{"remainingRequest":"/Users/patchar/Desktop/inet/vue/vueproject/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/patchar/Desktop/inet/vue/vueproject/src/components/Dialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/patchar/Desktop/inet/vue/vueproject/src/components/Dialog.vue","mtime":1581346171016},{"path":"/Users/patchar/Desktop/inet/vue/vueproject/node_modules/cache-loader/dist/cjs.js","mtime":1573454930958},{"path":"/Users/patchar/Desktop/inet/vue/vueproject/node_modules/babel-loader/lib/index.js","mtime":1573454886377},{"path":"/Users/patchar/Desktop/inet/vue/vueproject/node_modules/vuetify-loader/lib/loader.js","mtime":1573455238624},{"path":"/Users/patchar/Desktop/inet/vue/vueproject/node_modules/cache-loader/dist/cjs.js","mtime":1573454930958},{"path":"/Users/patchar/Desktop/inet/vue/vueproject/node_modules/vue-loader/lib/index.js","mtime":1573454934666}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAnQC9FdmVudEJ1cycKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgZm9ybVRpdGxlOiAnJywKICAgICAgZWRpdGVkSXRlbToge30KICAgIH0KICB9LAogIG1vdW50ZWQgKCkgewogICAgRXZlbnRCdXMuJG9uKCdvcGVuTmV3U3R1ZGVudCcsIHRoaXMub3BlbkRpYWxvZykKICAgIEV2ZW50QnVzLiRvbignZWRpdFN0dWRlbnQnLCB0aGlzLm9wZW5FZGl0RGlhbG9nKQogIH0sCiAgbWV0aG9kczogewogICAgb3BlbkRpYWxvZyAoKSB7CiAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IHt9CiAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZQogICAgICB0aGlzLmZvcm1UaXRsZSA9ICdOZXcgc3R1ZGVudCcKICAgIH0sCiAgICBvcGVuRWRpdERpYWxvZyAoc3R1ZGVudCkgewogICAgICB0aGlzLmRpYWxvZyA9IHRydWUKICAgICAgdGhpcy5mb3JtVGl0bGUgPSAnRWRpdCBzdHVkZW50JwogICAgICBjb25zb2xlLmxvZyhzdHVkZW50KQogICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBzdHVkZW50CiAgICB9LAogICAgYXN5bmMgc2F2ZSAoKSB7CiAgICAgIGlmICh0aGlzLmZvcm1UaXRsZSA9PT0gJ05ldyBzdHVkZW50JykgewogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmF4aW9zLnBvc3QoJ2h0dHA6Ly9sYWJray5nYTozMDAwL3BlcnNvbicsIHRoaXMuZWRpdGVkSXRlbSkKICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpCiAgICAgICAgICBpZiAoZGF0YS5tZXNzYWdlID09PSAnaW5zZXJ0c3VjY2VzcycpIHsKICAgICAgICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZQogICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZ2V0ZGF0YScpCiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpCiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHRoaXMuZm9ybVRpdGxlID09PSAnRWRpdCBzdHVkZW50JykgewogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgeyBkYXRhMSB9ID0gYXdhaXQgdGhpcy5heGlvcy5wdXQoJ2h0dHA6Ly9sYWJray5nYTozMDAwL3BlcnNvbicgKyB0aGlzLmVkaXRlZEl0ZW0uX2lkLCB0aGlzLmVkaXRlZEl0ZW0pCiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhMSkKICAgICAgICAgIGlmIChkYXRhLm1lc3NhZ2UgPT09ICd1cGRhdGVzdWNjZXNzJykgewogICAgICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlCiAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdnZXRkYXRhJykKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSkKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjbG9zZSAoKSB7CiAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2UKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Dialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Dialog.vue","sourceRoot":"src/components","sourcesContent":["<template>\n      <v-dialog v-model=\"dialog\" max-width=\"500px\">\n          <v-card>\n            <v-card-title>\n              <span class=\"headline\">{{ formTitle }}</span>\n            </v-card-title>\n\n            <v-card-text>\n              <v-container>\n                <v-row>\n                  <v-col cols=\"12\" sm=\"6\">\n                    <v-text-field v-model=\"editedItem.firstname\" label=\"Firstname\"></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"6\">\n                    <v-text-field v-model=\"editedItem.lastname\" label=\"Lastname\"></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"6\">\n                    <v-text-field v-model=\"editedItem.lineid\" label=\"Lineid\"></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"6\">\n                    <v-text-field v-model=\"editedItem.tel\" label=\"Tel\"></v-text-field>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-card-text>\n\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"close\">Cancel</v-btn>\n              <v-btn color=\"blue darken-1\" text @click=\"save\">Save</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n</template>\n\n<script>\nimport { EventBus } from '@/EventBus'\nexport default {\n  data () {\n    return {\n      dialog: false,\n      formTitle: '',\n      editedItem: {}\n    }\n  },\n  mounted () {\n    EventBus.$on('openNewStudent', this.openDialog)\n    EventBus.$on('editStudent', this.openEditDialog)\n  },\n  methods: {\n    openDialog () {\n      this.editedItem = {}\n      this.dialog = true\n      this.formTitle = 'New student'\n    },\n    openEditDialog (student) {\n      this.dialog = true\n      this.formTitle = 'Edit student'\n      console.log(student)\n      this.editedItem = student\n    },\n    async save () {\n      if (this.formTitle === 'New student') {\n        try {\n          var { data } = await this.axios.post('http://labkk.ga:3000/person', this.editedItem)\n          console.log(data)\n          if (data.message === 'insertsuccess') {\n            this.dialog = false\n            EventBus.$emit('getdata')\n          }\n        } catch (error) {\n          console.log(error.message)\n        }\n      } else if (this.formTitle === 'Edit student') {\n        try {\n          var { data1 } = await this.axios.put('http://labkk.ga:3000/person' + this.editedItem._id, this.editedItem)\n          console.log(data1)\n          if (data.message === 'updatesuccess') {\n            this.dialog = false\n            EventBus.$emit('getdata')\n          }\n        } catch (error) {\n          console.log(error.message)\n        }\n      }\n    },\n    close () {\n      this.dialog = false\n    }\n  }\n}\n</script>\n"]}]}