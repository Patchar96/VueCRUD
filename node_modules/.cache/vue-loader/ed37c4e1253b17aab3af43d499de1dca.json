{"remainingRequest":"/Users/patchar/Desktop/inet/vue/vueproject/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/patchar/Desktop/inet/vue/vueproject/src/views/Table.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/patchar/Desktop/inet/vue/vueproject/src/views/Table.vue","mtime":1581346955758},{"path":"/Users/patchar/Desktop/inet/vue/vueproject/node_modules/cache-loader/dist/cjs.js","mtime":1573454930958},{"path":"/Users/patchar/Desktop/inet/vue/vueproject/node_modules/babel-loader/lib/index.js","mtime":1573454886377},{"path":"/Users/patchar/Desktop/inet/vue/vueproject/node_modules/vuetify-loader/lib/loader.js","mtime":1573455238624},{"path":"/Users/patchar/Desktop/inet/vue/vueproject/node_modules/cache-loader/dist/cjs.js","mtime":1573454930958},{"path":"/Users/patchar/Desktop/inet/vue/vueproject/node_modules/vue-loader/lib/index.js","mtime":1573454934666}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAnQC9FdmVudEJ1cycKaW1wb3J0IERpYWxvZyBmcm9tICdAL2NvbXBvbmVudHMvRGlhbG9nLnZ1ZScKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIERpYWxvZwogIH0sCiAgZGF0YTogKCkgPT4gKHsKICAgIGhlYWRlcnM6IFsKICAgICAgeyB0ZXh0OiAnRmlyc3RuYW1lJywgdmFsdWU6ICdmaXJzdG5hbWUnIH0sCiAgICAgIHsgdGV4dDogJ0xhc3RuYW1lJywgdmFsdWU6ICdsYXN0bmFtZScgfSwKICAgICAgeyB0ZXh0OiAnTGluZWlkJywgdmFsdWU6ICdsaW5laWQnIH0sCiAgICAgIHsgdGV4dDogJ1RlbCcsIHZhbHVlOiAndGVsJyB9LAogICAgICB7IHRleHQ6ICdBY3Rpb25zJywgdmFsdWU6ICdhY3Rpb24nLCBzb3J0YWJsZTogZmFsc2UgfQogICAgXSwKICAgIHN0dWRlbnRzOiBbXQogIH0pLAogIGNyZWF0ZWQgKCkgewogICAgdGhpcy5pbml0aWFsaXplKCkKICB9LAogIG1vdW50ZWQgKCkgewogICAgRXZlbnRCdXMuJG9uKCdnZXRkYXRhJywgdGhpcy5pbml0aWFsaXplKQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgaW5pdGlhbGl6ZSAoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5heGlvcy5nZXQoJ2h0dHA6Ly9sYWJray5nYTozMDAwL3BlcnNvbnMnKQogICAgICAgIGNvbnNvbGUubG9nKGRhdGEpCiAgICAgICAgdGhpcy5zdHVkZW50cyA9IGRhdGEKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKQogICAgICB9CiAgICB9LAogICAgb3Blbk5ld1N0dWRlbnQgKCkgewogICAgICBFdmVudEJ1cy4kZW1pdCgnb3Blbk5ld1N0dWRlbnQnKQogICAgfSwKICAgIGVkaXRJdGVtIChpdGVtKSB7CiAgICAgIEV2ZW50QnVzLiRlbWl0KCdlZGl0U3R1ZGVudCcsIGl0ZW0pCiAgICB9LAogICAgYXN5bmMgZGVsZXRlSXRlbSAoaXRlbSkgewogICAgICBjb25zb2xlLmxvZygnaXRlbSAnLCBpdGVtKQogICAgICBpZiAoY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIGl0ZW0/JykpIHsKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5heGlvcy5kZWxldGUoJ2h0dHA6Ly9sYWJray5nYTozMDAwL3BlcnNvbi8nICsgaXRlbSkKICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpCiAgICAgICAgICBpZiAoZGF0YS5tZXNzYWdlID09PSAncmVtb3Zlc3VjY2VzcycpIHsKICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKCkKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSkKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["Table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Table.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <v-data-table\n    :headers=\"headers\"\n    :items=\"students\"\n    sort-by=\"calories\"\n    class=\"elevation-1\"\n  >\n    <template v-slot:top>\n      <v-toolbar flat color=\"white\">\n        <v-toolbar-title>My Student</v-toolbar-title>\n        <v-divider\n          class=\"mx-4\"\n          inset\n          vertical\n        ></v-divider>\n        <v-spacer></v-spacer>\n        <v-btn color=\"success\" @click=\"openNewStudent\">New Student</v-btn>\n      </v-toolbar>\n    </template>\n    <template v-slot:item.action=\"{ item }\">\n      <v-icon\n        small\n        class=\"mr-2\"\n        @click=\"editItem(item)\"\n      >\n        mdi-pen\n      </v-icon>\n      <v-icon\n        small\n        @click=\"deleteItem(item._id)\"\n      >\n        mdi-delete\n      </v-icon>\n    </template>\n  </v-data-table>\n  <Dialog/>\n  </div>\n</template>\n\n<script>\nimport { EventBus } from '@/EventBus'\nimport Dialog from '@/components/Dialog.vue'\nexport default {\n  components: {\n    Dialog\n  },\n  data: () => ({\n    headers: [\n      { text: 'Firstname', value: 'firstname' },\n      { text: 'Lastname', value: 'lastname' },\n      { text: 'Lineid', value: 'lineid' },\n      { text: 'Tel', value: 'tel' },\n      { text: 'Actions', value: 'action', sortable: false }\n    ],\n    students: []\n  }),\n  created () {\n    this.initialize()\n  },\n  mounted () {\n    EventBus.$on('getdata', this.initialize)\n  },\n  methods: {\n    async initialize () {\n      try {\n        var { data } = await this.axios.get('http://labkk.ga:3000/persons')\n        console.log(data)\n        this.students = data\n      } catch (error) {\n        console.log(error.message)\n      }\n    },\n    openNewStudent () {\n      EventBus.$emit('openNewStudent')\n    },\n    editItem (item) {\n      EventBus.$emit('editStudent', item)\n    },\n    async deleteItem (item) {\n      console.log('item ', item)\n      if (confirm('Are you sure you want to delete this item?')) {\n        try {\n          var { data } = await this.axios.delete('http://labkk.ga:3000/person/' + item)\n          console.log(data)\n          if (data.message === 'removesuccess') {\n            this.initialize()\n          }\n        } catch (error) {\n          console.log(error.message)\n        }\n      }\n    }\n  }\n}\n</script>\n"]}]}